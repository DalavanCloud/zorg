{# Fragment template for rendering an individual phase pop-up #}

<h3>Phase {{ phase.number }} {{ phase.name }} - r{{ source_stamp }}</h3>
<table>
  <thead>
    <tr><th>Builder</th><th>Status</th></tr>
  </thead>
  {% for name,builds in phased_builds|dictsort %}
  <tr>
    <td><a href="{{ config.status.master_url }}/builders/{{ name }}">{{
        name }}</a></td>
    <td class="phase-cell">
      {% for build in builds %}
      {% if build.end_time == None %}
      {%   set kind = "running" %}
      {%   set text = "RUNNING" %}
      {% elif build.result == 0 %}
      {%   set kind = "success" %}
      {%   set text = "PASS" %}
      {% else %}
      {%   set kind = "failing" %}
      {%   set text = "FAIL" %}
      {% endif %}

      <a class="phase-cell {{ kind }}"
         href="{{ config.status.master_url }}/builders/{{
                  name }}/builds/{{ build.number }}">{{ text }}</a>

      {% endfor %}
    </td>
  </tr>
  {% endfor %}
</table>
